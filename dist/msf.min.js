class MSF{constructor(t,e,s,i,r,n,l,a){this.form=document.getElementById(t),this.submitButton=this.form.querySelector('input[type="submit"]'),this.next=document.getElementById(e),this.back=document.getElementById(s),this.mask=this.form.querySelector(".w-slider-mask"),this.steps=this.form.querySelectorAll(".w-slide"),this.rightArrow=this.form.querySelector(".w-slider-arrow-right"),this.leftArrow=this.form.querySelector(".w-slider-arrow-left"),this.nextText=i,this.submitText=r,this.alertText=n,this.warningClass=l,a&&(this.hiddenForm=document.getElementById(a),this.hiddenSubmitButton=this.hiddenForm.querySelector('input[type="submit"]'))}getInputs(t){let e=this.steps[t].querySelectorAll("input, select, textarea");return Array.from(e)}setMaskHeight(t){this.mask.style.height="",this.mask.style.height=`${this.steps[t].offsetHeight}px`}setStepAttribute(t){this.next.setAttribute("step",t)}setNextButtonText(t){t===this.steps.length-1&&(this.next.textContent=this.submitText),t===this.steps.length-2&&(this.next.textContent=this.nextText)}goNext(){this.rightArrow.click()}goBack(){this.leftArrow.click()}submitForm(){this.submitButton.click()}submitHiddenForm(t){this.getInputs(t).forEach(t=>{let e=document.getElementById(`hidden-${t.id}`);e&&(e.value=t.value)}),this.hiddenSubmitButton.click()}hideButtons(){this.next.style.display="none",this.back.style.display="none"}addWarningClass(t){t.classList.add(this.warningClass)}removeWarningClass(t){t.classList.remove(this.warningClass)}alertUser(){alert(this.alertText)}setConfirmValues(t){this.getInputs(t).forEach(t=>{let e,s;if("radio"===t.type){let i=t.getAttribute("name"),r=document.querySelector(`input[name="${i}"]:checked`);r&&(e=r.value,s=document.getElementById(`${i}-value`))}else e=t.value,s=document.getElementById(`${t.id}-value`);e&&s?s.textContent=e:!e&&s&&(s.textContent="-")})}}let msfController={init:t=>{console.log(t);let e=()=>{t.next.addEventListener("click",s),t.back.addEventListener("click",i),t.hiddenForm&&t.rightArrow.addEventListener("click",()=>{t.submitHiddenForm(0)},{once:!0})},s=()=>{let e=parseInt(t.next.getAttribute("step"));r(e)?(t.setConfirmValues(e),e++,t.setStepAttribute(e),e===t.steps.length?(t.submitForm(),t.hideButtons()):(t.goNext(),t.setMaskHeight(e),t.setNextButtonText(e))):t.alertUser()},i=()=>{let e=parseInt(t.next.getAttribute("step"))-1;e>=0&&(t.goBack(),t.setMaskHeight(e),t.setStepAttribute(e),t.setNextButtonText(e))},r=e=>{let s,i=t.getInputs(e).filter(t=>t.required),r=i.filter(t=>"checkbox"===t.type),l=i.filter(t=>"radio"===t.type),a=0;return i.forEach(e=>{if(e.value&&"email"!==e.type)t.removeWarningClass(e),a++;else if(e.value&&"email"===e.type){n(e.value)?(t.removeWarningClass(e),a++):t.addWarningClass(e)}else t.addWarningClass(e)}),r.forEach(e=>{let s=e.parentNode.querySelector(".w-checkbox-input");e.checked?(s&&t.removeWarningClass(s),a++):s&&t.addWarningClass(s)}),l.forEach(e=>{let s=e.parentNode.querySelector(".w-radio-input"),i=e.getAttribute("name");document.querySelector(`input[name="${i}"]:checked`)?(t.removeWarningClass(s),a++):t.addWarningClass(s)}),s=a===i.length+r.length+l.length},n=t=>{return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())};e(),t.setMaskHeight(0)}};